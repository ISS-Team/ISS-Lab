CREATE TABLE ISSDataBase.User(
Username nvarchar(30) PRIMARY KEY,
Password nvarchar(30),
Email nvarchar(30),
AccountActivated boolean,
Permissions Integer
);


CREATE TABLE ISSDataBase.Research_Paper(
Id_Research_Paper Integer PRIMARY KEY AUTOINCREMENT,
Username nvarchar(30),
Title nvarchar(50),
Text nvarchar(40),

FOREIGN KEY(Username) REFERENCES User(Username)
);

CREATE TABLE ISSDataBase.Review(
Id_Review Integer PRIMARY KEY AUTOINCREMENT,
Username nvarchar(30),
Id_Research_Paper int,
Calificativ text CHECK(Calificativ IN('Strong Accept','Accept','Weak Accept','Bordeline Paper','Weak Reject','Reject','Strong Reject')),
Date date,
FOREIGN KEY(Username) REFERENCES Revieweri(Username),
FOREIGN KEY(Id_Research_Paper) REFERENCES Research_Paper(Id_Research_Paper)
);

CREATE TABLE ISSDataBase.Recommendation(
Id_Recommendation Integer PRIMARY KEY AUTOINCREMENT,
Description nvarchar(100),
Id_Review Integer,
FOREIGN KEY (Id_Review) REFERENCES Review(Id_Review)
);

CREATE TABLE ISSDataBase.Session(
Id_Session Integer PRIMARY KEY AUTOINCREMENT,
Id_Conference Integer,
StarTime time,
Duration Integer,
FOREIGN KEY(Id_Conference) REFERENCES Conference(Id_Conference)

);

CREATE TABLE ISSDataBase.Conference(
Id_Conference Integer PRIMARY KEY AUTOINCREMENT,
Title nvarchar(30),
Theme nvarchar(30),
Date date,
Deadline date,
StartTime Integer,
EndTime Integer
);

CREATE TABLE ISSDataBase.Participants(
Id_Session Integer ,
Username Integer,
Status text CHECK(Status IN('Listener','Speaker','Session Chair')),
FOREIGN KEY(Id_Session) REFERENCES Session(Id_Session),
FOREIGN KEY(Username) REFERENCES Username(Username),
PRIMARY KEY(Id_Session,Username)
);

CREATE TABLE ISSDataBase.Revieweri(
Username nvarchar(30),
Id_ResearchPaper Integer,
Status text CHECK(Status IN('Accepted to review','Reviewing','Finished to review','Reviewed')),
FOREIGN KEY(Id_ResearchPaper) REFERENCES ResearchPaper(Id_ResearchPaper),
FOREIGN KEY(Username) REFERENCES Username(Username),
PRIMARY KEY(Id_ResearchPaper,Username)
);

Create Table ISSDataBase.MetaData(
Id_MetaData Integer PRIMARY KEY AUTOINCREMENT,
Content nvarchar(200),
Id_Research_Paper Integer,
FOREIGN KEY (Id_Research_Paper)REFERENCES Research_Paper(Id_Research_Paper)
);




