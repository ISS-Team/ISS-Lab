<!DOCTYPE html>
<html lang="en">
<head>
  <title>Conference Management System</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="sha256.js"> </script>
  </head>
<body>

<!--Navigation bar-->

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Conference Mangement System</a>
    </div>
    <ul class="nav navbar-nav">
      <li><a id="About" href="#">About</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a id="Register" href="#"><span class="glyphicon glyphicon-user"></span> Register</a></li>
      <li><a id="Login" href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
  </div>
</nav>

<!--div for general informations such as deadline, the name of the conference-->

<div id="generalInformations" class="container">
  <h3>General informations about the conference.</h3>
</div>

<!--form for register-->

<div class="container">
  <form id="formRegister" class="form-horizontal"  style="display:none;" method="post" action="">
    <div class="form-group">
      <label class="control-label col-sm-2" for="firstNameR">First name:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="firstNameR" placeholder="Enter your first name" name="firstNameR">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="lastNameR">Last name:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="lastNameR" placeholder="Enter your last name" name="lastNameR">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="emailR">Email:</label>
      <div class="col-sm-10">
        <input type="email" class="form-control" id="emailR" placeholder="Enter your email" name="emailR">
      </div>
    </div>
	<div class="form-group">
      <label class="control-label col-sm-2" for="usernameR">Username:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="usernameR" placeholder="Enter username" name="usernameR">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="passwordR">Password:</label>
      <div class="col-sm-10">          
        <input type="password" class="form-control" id="passwordR" placeholder="Enter password" name="passwordR">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="selectPosition">Select your position:</label>
       <div class="col-sm-10">
	  <select class="form-control" id="selectPosition">
        <option value="speaker">Speaker</option>
        <option value="listener">Listener</option>
        <option value="programCommitteeMember">Program Committee Member/option>
      </select>
	  </div>
    </div>
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-10">
        <input id="btnSubmitRegister" type="submit" class="btn btn-default" value="Submit">
      </div>
    </div>
  </form>
</div>

<!--form for login-->

<div class="container">
  <form id="formLogin" class="form-horizontal"  style="display:none;" method="post" action="">
    <div class="form-group">
      <label class="control-label col-sm-2" for="username">Username:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="password">Password:</label>
      <div class="col-sm-10">          
        <input type="password" class="form-control" id="password" placeholder="Enter password" name="password">
      </div>
    </div>
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-10">
        <input id="btnSubmitLogin" type="submit" class="btn btn-default" value="Submit">
      </div>
    </div>
  </form>
</div>

<!-- about conf -->

<div id="generalInformations" class="container">
  <h2></h2>           
  <table id="tableGeneralInformations" class="table table-bordered">
    <thead>
      <tr>
		<th style="display:none;" rowspan="2" id="idConference">Id</th>
        <th rowspan="2">Conference</th>
        <th rowspan="2" >Theme</th>
        <th rowspan="2">Date</th>
		<th  colspan="3" >Deadline
		</th>
		
		<th rowspan="2">Start time</th>
		<th rowspan="2">End time</th>
      </tr>
	  <th> 
			Abstract
	  </th>
	   <th> 
			Full
	  </th>
	   <th> 
			Review
	  </th>
	 
    </thead>
    <tbody>
       <tr>
	    <td rowspan="2"  style="display:none" > 1  </td>
        <td	rowspan="2">Conference1</td>
        <td rowspan="2" >Theme1</td>
        <td rowspan="2">Date1</td>
		
		<td  rowspan="2">Start time</td >
		<td  rowspan="2">End time</td >
		
      </tr>
	 
	  <td> 
			2
	  </td>
	   <td> 
			3
	  </td>
	   <td> 
			4
	  </td>
	  
	   <tr>
	    <td rowspan="2"  style="display:none"> 2 </td>
        <td	rowspan="2">Conference1</td>
        <td rowspan="2" >Theme1</td>
        <td rowspan="2">Date1</td>
		
		<td  rowspan="2">Start time</td >
		<td  rowspan="2">End time</td >
		
      </tr>
	  <td> 
			2
	  </td>
	   <td> 
			3
	  </td>
	   <td> 
			4
    </tbody>
  </table>
</div>

<!--Sessions -->

<div id="sesInformations" class="container">
  <h2></h2>           
  <table  id="sessionInfo" class="table table-bordered">
    <thead>
      <tr>
        <th rowspan="2">Session</th>
		<th rowspan="2">Speaker</th>
        <th rowspan="2" >Start time</th>  
		<th rowspan="2"> Go</th>
      </tr>
	  
    </thead>
    <tbody>
		<td>
		</td>
		<td>
		</td>
		<td>
		</td>
		 <td>
        <button type="button">Participa</button>
		</td>
    </tbody>
  </table>
</div>

<style>

.table > thead > tr > th{
     vertical-align: middle;
	 text-align:center;
}

.table > tbody > tr > td{
     vertical-align: middle;
	 text-align:center;
}

#sesInformations{
	visibility:hidden;
}

</style>

<script type="text/javascript">
$(document).ready(function() {
console.log("ready");

$("tr").click(function(){
		
	 <!-- var table, rows, switching, i, x, y, shouldswitch,vector1={},vector2={}; -->
	  <!-- table=$("#tablegeneralinformations")[0];  -->
	  <!-- rows=$("tr"); -->
	  <!-- for (i = 1; i < (rows.length)-1; i++) { -->
		<!-- x=rows[i].getelementsbytagname("td")[1].innerhtml; -->
		<!-- alert(x); -->
	<!-- } -->
	var id_conference=$(this).find("*:first-child").html();
	$.ajax({
        url: "/conferences/"+id_conference+"/sessions/getall",
        type: "GET",
        //contentType: "application/json",
       // dataType: "json",
       // data: JSON.stringify(id_conference),
        success: function (data) {
            alert("Success");
            console.log(data);
			//$each(res.id,res.title,res.theme,res.date,res.deadLineAbstractInfo,res.deadLineFullPaper,res.deadLineReview,res.startTime,res.endTime){
				var tr;
				for (var i = 0; i < data.length; i++) {
				tr = $('<tr/>');
				//tr.append("<td style='display:none'>" + data[i].id+ "</td>");
				tr.append("<td>" + data[i].title+ "</td>");
				tr.append("<td>" + data[i].startTime + "</td>");
				tr.append("<td>" + data[i].duration + "</td>");
				$("#sessionInfo").append(tr);
			}
        },
		 error: function(res) {
            alert("Eroare");
        }

		
});

	
	//alert(id_conference);
	//if($("td").index(this)>)
		//alert($('idConference').index(this));
		
	//document.getElementById('sesInformations').style.visibility='visible';
	
		 // jQuery wrapper for clicked element
   // ... click-specific code goes here ...
  // alert(clicked);
	//	document.getElementById('sesInformations').style.visibility='visible';
	
	
	
	//alert("daaa");
	
	//$.fn.sortTable(0);
//	if($("th").index(this)<4){
		//$.fn.sortTable($("th").index(this));
	//}
	//else
		//$.fn.interTable($("th").index(this)-4,$("th").index(this)-3);
	//	$.fn.moveColumn($("#myTable"), $("th").index(this)-4,$("th").index(this)-3);
});

$("#Login").click(function() {
    $("#generalInformations").hide();
	$("#formRegister").css("display","none");
	$("#formLogin").css("display","block");
	   
});
$("#Register").click(function() {
	
	$("#generalInformations").hide();
	$("#formLogin").css("display","none");
    $("#formRegister").css("display","block");

   
});



$("#About").click(function(){
	$("#formLogin").css("display","none");
    $("#formRegister").css("display","none");
	$("#generalInformations").show();
	//alert("da");
	//apel populare
	$.ajax({
	
        url: "/users/register",
        type: "GET",
     //   contentType: "application/json",
      //  dataType: "json",
       // data: JSON.stringify(forRegister),
        success: function (data) {
            alert("Success");
            console.log(data);
			//$each(res.id,res.title,res.theme,res.date,res.deadLineAbstractInfo,res.deadLineFullPaper,res.deadLineReview,res.startTime,res.endTime){
				var tr;
				for (var i = 0; i < data.length; i++) {
				tr = $('<tr/>');
				tr.append("<td style='display:none' id='idConference'>" + data[i].id+ "</td>");
				tr.append("<td>" + data[i].title+ "</td>");
				tr.append("<td>" + data[i].theme + "</td>");
				tr.append("<td>" + data[i].date + "</td>");
				tr.append("<td>" + data[i].deadLineAbstractInfo + "</td>");
				tr.append("<td>" + data[i].deadLineFullPaper + "</td>");
				tr.append("<td>" + data[i].deadLineReview + "</td>");
				tr.append("<td>" + data[i].startTime + "</td>");
				tr.append("<td>" + data[i].endTime + "</td>");
				$("#tableGeneralInformations").append(tr);
			}
        },
		 error: function(res) {
            alert("Eroare");
        }

		
});

	
		
});
$("#btnSubmitRegister").click(function(){
       var xhr = new XMLHttpRequest();
       xhr.open("post", "myurl", true);
       var firstName=$("#firstNameR").val();
       var lastName=$("#lastNameR").val();
	   var email=$("#emailR").val();
	   var username=$("#usernameR").val();
	   var password=SHA256($("#passwordR").val());
	   var position=$("#selectPosition").val();
	   
	   var forRegister = {
			"firstName":firstName,
			"lastName":lastName,
			"email":email,
            "username":username,
            "password":password,
			"position":position,
			} 
	    xhr.send(JSON.stringify(forRegister));
		alert("Datele au fost trimise");

});
$("#btnSubmitLogin").click(function(){
       var xhr = new XMLHttpRequest();
       xhr.open("post", "myurl", true);
       var username=$("#username").val();
	   var password=SHA256($("#password").val());
	   var forLogin = {
            "username":username,
            "password":password,
			} 
	    xhr.send(JSON.stringify(forLogin));
		alert("Datele au fost trimise");
});
});

</script>
</body>
</html>